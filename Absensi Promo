<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistem Absensi Murid</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
        }

        .fade-in-section {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
            will-change: opacity, transform;
        }

        .fade-in-section.is-visible {
            opacity: 1;
            transform: translateY(0);
        }

        .sticky-cta {
            transform: translateY(0);
            transition: transform 0.3s ease-in-out;
        }

        .sticky-cta.hidden {
            transform: translateY(100%);
            opacity: 0;
            pointer-events: none;
        }

        /* Custom CSS for the sticky table column */
        .sticky-column {
            position: sticky;
            left: 0;
            background-color: #f9fafb; /* Use a color that matches your table header/cell */
            z-index: 10;
        }
    </style>
</head>
<body class="text-gray-800 antialiased">

    <!-- Header Section -->
    <header class="bg-white shadow-sm py-6">
        <div class="container mx-auto px-4 flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <span class="text-2xl font-bold text-indigo-600">✍️</span>
                <span class="text-xl font-bold">Absensi Murid</span>
            </div>
            <nav class="hidden md:flex space-x-4">
                <a href="#tentang" class="text-gray-600 hover:text-indigo-600 transition-colors duration-200">Tentang</a>
                <a href="#absensi" class="text-gray-600 hover:text-indigo-600 transition-colors duration-200">Absensi</a>
                <a href="#kontak" class="text-gray-600 hover:text-indigo-600 transition-colors duration-200">Kontak</a>
            </nav>
        </div>
    </header>

    <main class="container mx-auto px-4 py-8 md:py-16">

        <!-- Hero Section -->
        <section class="mb-16 text-center fade-in-section">
            <h1 class="text-4xl md:text-5xl font-extrabold text-gray-900 mb-4 leading-tight">Selamat Datang di Sistem Absensi Murid</h1>
            <p class="text-lg text-gray-600 mb-8 max-w-2xl mx-auto">Pantau kehadiran dan progres belajar murid Anda dengan mudah dan efisien. Sistem ini dirancang untuk membantu Anda fokus pada hal yang paling penting: mengajar.</p>
            <div class="flex flex-col md:flex-row justify-center items-center space-y-4 md:space-y-0 md:space-x-4">
                <a href="#kontak" class="bg-indigo-600 text-white font-semibold py-3 px-8 rounded-lg shadow-lg hover:bg-indigo-700 transition-transform transform hover:-translate-y-1">Hubungi Kami</a>
                <a href="#absensi" class="bg-gray-200 text-gray-800 font-semibold py-3 px-8 rounded-lg hover:bg-gray-300 transition-transform transform hover:-translate-y-1">Lihat Data Absensi</a>
            </div>
        </section>

        <!-- About Section -->
        <section id="tentang" class="mb-16 fade-in-section">
            <div class="bg-white rounded-xl shadow-lg p-6 md:p-10">
                <h2 class="text-3xl font-bold text-gray-900 mb-6">Tentang Kami</h2>
                <div class="flex flex-col md:flex-row items-center md:space-x-8">
                    <div class="md:w-1/2 mb-6 md:mb-0">
                        <img src="https://placehold.co/600x400/818cf8/ffffff?text=Pengelolaan+Absensi+Murid" alt="Deskripsi gambar: Guru mengelola absensi murid" class="rounded-xl shadow-md w-full h-auto object-cover">
                    </div>
                    <div class="md:w-1/2">
                        <p class="text-lg text-gray-700 leading-relaxed mb-4">Kami percaya bahwa pengelolaan absensi tidak harus rumit. Dengan sistem ini, Anda dapat mencatat kehadiran murid secara digital, mengurangi tumpukan kertas, dan menghemat waktu berharga.</p>
                        <p class="text-lg text-gray-700 leading-relaxed">Fitur utama kami meliputi pencatatan kehadiran harian, laporan bulanan yang mudah dipahami, dan notifikasi otomatis untuk orang tua. Semua data aman dan dapat diakses dari mana saja.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Absensi Table Section -->
        <section id="absensi" class="mb-16 fade-in-section">
            <div class="bg-white rounded-xl shadow-lg p-6 md:p-10">
                <h2 class="text-3xl font-bold text-gray-900 mb-6">Data Absensi Murid</h2>
                <div class="overflow-x-auto rounded-lg border border-gray-200 shadow-sm">
                    <table class="w-full text-sm text-left rtl:text-right text-gray-500">
                        <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                            <tr>
                                <th scope="col" class="px-6 py-3 sticky-column rounded-tl-lg">Nama Siswa</th>
                                <th scope="col" class="px-6 py-3" data-date="1">1</th>
                                <th scope="col" class="px-6 py-3" data-date="2">2</th>
                                <th scope="col" class="px-6 py-3" data-date="3">3</th>
                                <th scope="col" class="px-6 py-3" data-date="4">4</th>
                                <th scope="col" class="px-6 py-3" data-date="5">5</th>
                                <th scope="col" class="px-6 py-3" data-date="6">6</th>
                                <th scope="col" class="px-6 py-3" data-date="7">7</th>
                                <th scope="col" class="px-6 py-3" data-date="8">8</th>
                                <th scope="col" class="px-6 py-3" data-date="9">9</th>
                                <th scope="col" class="px-6 py-3" data-date="10">10</th>
                                <th scope="col" class="px-6 py-3" data-date="11">11</th>
                                <th scope="col" class="px-6 py-3" data-date="12">12</th>
                                <th scope="col" class="px-6 py-3" data-date="13">13</th>
                                <th scope="col" class="px-6 py-3" data-date="14">14</th>
                                <th scope="col" class="px-6 py-3" data-date="15">15</th>
                                <th scope="col" class="px-6 py-3" data-date="16">16</th>
                                <th scope="col" class="px-6 py-3" data-date="17">17</th>
                                <th scope="col" class="px-6 py-3" data-date="18">18</th>
                                <th scope="col" class="px-6 py-3" data-date="19">19</th>
                                <th scope="col" class="px-6 py-3" data-date="20">20</th>
                                <th scope="col" class="px-6 py-3" data-date="21">21</th>
                                <th scope="col" class="px-6 py-3" data-date="22">22</th>
                                <th scope="col" class="px-6 py-3" data-date="23">23</th>
                                <th scope="col" class="px-6 py-3" data-date="24">24</th>
                                <th scope="col" class="px-6 py-3" data-date="25">25</th>
                                <th scope="col" class="px-6 py-3" data-date="26">26</th>
                                <th scope="col" class="px-6 py-3" data-date="27">27</th>
                                <th scope="col" class="px-6 py-3" data-date="28">28</th>
                                <th scope="col" class="px-6 py-3" data-date="29">29</th>
                                <th scope="col" class="px-6 py-3" data-date="30">30</th>
                                <th scope="col" class="px-6 py-3" data-date="31">31</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="bg-white border-b hover:bg-gray-50">
                                <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap sticky-column">John Doe</th>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">I</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">A</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                            </tr>
                            <tr class="bg-white border-b hover:bg-gray-50">
                                <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap sticky-column">Jane Smith</th>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">S</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                                <td class="px-6 py-4">H</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Contact Form Section -->
        <section id="kontak" class="fade-in-section">
            <div class="bg-white rounded-xl shadow-lg p-6 md:p-10">
                <h2 class="text-3xl font-bold text-gray-900 mb-6">Hubungi Kami</h2>
                <form id="contactForm" class="space-y-6">
                    <div>
                        <label for="name" class="block text-sm font-medium text-gray-700">Nama Lengkap</label>
                        <input type="text" id="name" name="name" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500" placeholder="Nama Anda" aria-label="Nama Lengkap" required>
                    </div>
                    <div>
                        <label for="email" class="block text-sm font-medium text-gray-700">Email</label>
                        <input type="email" id="email" name="email" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500" placeholder="nama@email.com" aria-label="Email" required>
                    </div>
                    <div>
                        <label for="message" class="block text-sm font-medium text-gray-700">Pesan Anda</label>
                        <textarea id="message" name="message" rows="4" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500" placeholder="Tuliskan pesan Anda di sini..." aria-label="Pesan Anda" required></textarea>
                    </div>
                    <div>
                        <button type="submit" id="submitBtn" class="w-full bg-indigo-600 text-white font-semibold py-3 px-6 rounded-lg shadow-md hover:bg-indigo-700 transition-colors duration-200">Kirim Pesan ke WhatsApp</button>
                    </div>
                </form>
                <div id="confirmationMessage" class="mt-6 p-4 text-center rounded-lg bg-green-100 text-green-700 opacity-0 transition-opacity" role="alert">
                    ✅ Pesan Anda telah berhasil dikirim! Silakan cek WhatsApp Anda.
                </div>
            </div>
        </section>

        <!-- Sticky CTA Section -->
        <div class="fixed bottom-0 left-0 right-0 z-50 p-4 transition-transform duration-300 sticky-cta">
            <a href="#kontak" class="block text-center w-full max-w-sm mx-auto bg-green-500 text-white font-semibold py-3 px-6 rounded-lg shadow-2xl hover:bg-green-600 transition-transform transform hover:-translate-y-1">
                💬 Punya pertanyaan? Hubungi kami via WhatsApp
            </a>
        </div>

    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // JavaScript for IntersectionObserver (Fade-In Animation)
            const fadeSections = document.querySelectorAll('.fade-in-section');
            const observerOptions = {
                root: null,
                rootMargin: '0px',
                threshold: 0.2
            };

            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                        observer.unobserve(entry.target);
                    }
                });
            }, observerOptions);

            fadeSections.forEach(section => {
                observer.observe(section);
            });

            // JavaScript for Sticky CTA
            const stickyCta = document.querySelector('.sticky-cta');
            let lastScrollY = window.scrollY;

            window.addEventListener('scroll', () => {
                if (window.scrollY > lastScrollY && window.scrollY > 200) {
                    // Scrolling down
                    stickyCta.classList.add('hidden');
                } else {
                    // Scrolling up
                    stickyCta.classList.remove('hidden');
                }
                lastScrollY = window.scrollY;
            });

            // JavaScript for Form Submission & WhatsApp
            const contactForm = document.getElementById('contactForm');
            const submitBtn = document.getElementById('submitBtn');
            const confirmationMessage = document.getElementById('confirmationMessage');
            const originalBtnText = submitBtn.textContent;
            
            contactForm.addEventListener('submit', async (e) => {
                e.preventDefault();

                submitBtn.textContent = "Mengirim...";
                submitBtn.disabled = true;

                const formData = new FormData(contactForm);
                const data = Object.fromEntries(formData.entries());
                const name = encodeURIComponent(data.name);
                const email = encodeURIComponent(data.email);
                const message = encodeURIComponent(data.message);

                // This is the Google Apps Script URL. Replace with your own.
                const sheetUrl = 'https://script.google.com/macros/s/YOUR_APPS_SCRIPT_ID/exec'; 

                try {
                    const response = await fetch(sheetUrl, {
                        method: 'POST',
                        body: JSON.stringify(data),
                        headers: {
                            'Content-Type': 'application/json'
                        }
                    });

                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }

                    // Delay opening WhatsApp to ensure fetch is started
                    setTimeout(() => {
                        const waMessage = `Halo, saya ingin bertanya tentang absensi murid. %0ANama: ${name}%0AEmail: ${email}%0APesan: ${message}`;
                        const waUrl = `https://wa.me/6281234567890?text=${waMessage}`; // Replace with your WhatsApp number
                        window.open(waUrl, '_blank');
                    }, 500);

                    // Show confirmation message
                    confirmationMessage.classList.remove('opacity-0');
                    setTimeout(() => {
                        confirmationMessage.classList.add('opacity-0');
                    }, 5000);

                } catch (error) {
                    console.error('Fetch error:', error);
                    alert('Terjadi kesalahan saat mengirim pesan. Mohon coba lagi.');
                } finally {
                    submitBtn.textContent = originalBtnText;
                    submitBtn.disabled = false;
                }
            });
        });
    </script>
</body>
</html>
